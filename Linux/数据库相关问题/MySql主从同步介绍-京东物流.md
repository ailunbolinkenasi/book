本文部分内容来源于：稀土掘金-京东云开发者
> 是一个对我了解MySQL主从同步流程具有很大的帮助！


## MySQL主从同步的概述
MySQL主从同步，即`MySQL Replication`，可以实现将数据从一台数据库服务器同步到多台数据库服务器。MySQL数据库自带主从同步功能，经过配置，可以实现基于库、表结构的多种方案的主从同步。
但是随着业务量、数据量的不断增长，数据库的压力会不断变大，缓存的频繁变更也强依赖于数据的查询结果，导致数据查询效率低，负载很高，连接过多等问题。对于电商场景来说，往往存在很多典型的读多写少场景，我们可以对MySQL做主从架构并且进行读写分离，让主服务器（Master）处理写请求，从服务器（Slave）处理读请求，这样可以进一步提升数据库的并发处理能力。如下图：
![image.png](https://img10.360buyimg.com/ddimg/jfs/t1/193487/33/35723/25829/64c37c29F6f377158/583d9bff9f69fd37.jpg)
上图中，可以看到，我们增加了2个从库，这2个从库可以一起抗下大量的读请求，分担主库压力。从库会通过主从复制，从主库中不断的同步数据，以此来保证从库的数据和主库数据的一致。

接下来，我们看看主从同步有哪些作用，以及主从同步具体是怎么实现的。

## 主从同步的作用
一般来说，不是所有的系统都需要对数据库进行主从架构的设计，因为架构本身是有一定成本的，如果我们的目的在于提升数据库高并发访问的效率，那么我们首先应该优化SQL语句及索引，充分发挥数据库的最大性能；其次是采用缓存的策略，如使用Redis、Magodb等缓存工具，通过其高性能的优势把数据保存在内存数据库中，提升读取的效率，最后才是对数据库采用主从架构，进行读写分离。系统的使用和维护成本是根据架构的升级逐渐升高的。
言归正传，主从同步不仅可以提升数据库的吞吐量，还有以下三个方面的作用
### 读写分离
我们可以通过主从复制的方式来同步数据，然后通过读写分离提升数据库的并发处理能力。简单来说就是我们的数据被放在了多个数据库中，其中一个是Master主库，其余的是Slave从库。当主库数据变化时，会自动将数据同步到从库中，而我们程序可以从从库读取数据，也就是采用读写分离的方式。电商的应用往往是“读多写少”，采用读写分离就实现了更高的并发访问。原本所有的读写压力都由一台服务器承担，现在有多个服务器共同处理读请求，减少了对主库的压力。另外还可以对从服务器进行负载均衡，让不同的读请求按照策略均匀的分配到不同的从服务器中，让读取更加顺畅。读取顺畅的另一个原因，就是减少了锁表的影响，比如我们让主库负责写，当主库出现写锁的时候，不会影响到从库的查询操作。